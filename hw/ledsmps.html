<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    
    <title>Variable SMPS LED Supply</title>
    
    <link rel="stylesheet" type="text/css" href="http://www.thescrapyard.org/css/markdown.css" />

    <script type="text/javascript" src="http://www.thescrapyard.org/mathjax/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <link href="http://www.thescrapyard.org/prettify/tomorrow.css" type="text/css" rel="stylesheet" />
    <script type="text/javascript" src="http://www.thescrapyard.org/prettify/prettify.js"></script>

    <!-- <script type="text/javascript" src="http://www.thescrapyard.org/prettify/run_prettify.js?skin=tomorrow"></script> -->

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-52980401-1', 'auto');
  ga('send', 'pageview');
</script>

  </head>
  <body onload="prettyPrint()">
    <div class="container">
      <!-- Markdown content starts here -->

<hr>

<h1 id="variable-smps-led-supply">Variable SMPS LED Supply</h1>

<hr>

<h2 id="concept">Concept</h2>

<p>A switched mode current supply, adjustable via a logic-level PWM signal to realize a dimmable LED. This can be integrated into various projects, including an adjustable reading light or a sunrise alarm clock.</p>

<hr>

<h2 id="essential-components">Essential Components</h2>

<dl>
<dt><a href="http://www.linear.com/product/LT3474">LT3474</a></dt>
<dd>Step-down LED driver, up to 14 V @ 1 A output. The LT3474-1 variant without open circuit protection can go to higher voltages, but</dd>

<dd>Switching frequency and maximum output current are adjustable.</dd>

<dd>Dimmable using PWM, 400:1 range with a minimum pulse width of 40 μs.</dd>

<dd>Requires an external inductor and diode, and optionally an additional transistor for optimal PWM behavior. May require more than 14 V, however, depending on color and drive current.</dd>

<dt><a href="http://www.ledengin.com/products/emitters#LZ1">LedEngin LZ1 Series</a></dt>
<dd>Single-die emitter structure, 1 A absolute maximum current, with very bright output.</dd>

<dd>LZ4 series 4-die emitters are the next step up, but dissipate more heat and will require current derating.</dd>
</dl>

<hr><div class="se-section-delimiter"></div>

<h2 id="schematic-and-board">Schematic and Board</h2>

<p>The schematic is very straightforward, based on the example application in the LT3474 datasheet.</p>

<p></p><figure><a href="http://www.thescrapyard.org/hw/images/ledsmps_schematic.pdf"><img src="http://www.thescrapyard.org/hw/images/ledsmps_schematic.png"></a> <br>
<figcaption>SMPS Schematic</figcaption> <br>
</figure><p></p>

<p>Multiple revisions have been created, to try out various layouts, connectors and such. Revision 2 of the board was made to fit behind an Ohmite <a href="http://www.ohmite.com/cat/sink_s.pdf">SA-LED-113E</a> heatsink</p>

<p><img src="http://www.thescrapyard.org/hw/images/leddriver_r2-1_top.png" alt="Board Top" style="width:45%">&nbsp;<img src="http://www.thescrapyard.org/hw/images/leddriver_r2-1_bot.png" alt="Board Bottom" style="width:45%"></p>

<p>Observations:</p>

<ul>
<li>The board warms up noticeably. A good ground plane as heatsink and a good connection between the exposed pad and the board is essential.</li>
<li>The <em>PWM</em> pin is <strong>logic level input only</strong>. Forcing the LT3474 on by connecting it to <em>Vcc</em> for input voltages &gt; 5 V will lead to arcing between <em>PWM</em> and <em>GND</em> pins, and the eventual destruction of the device.</li>
<li>Molex Pico-EZMate™ connectors are compact and flush, but too fiddly to hand-assemble. <a href="http://www.molex.com/molex/products/family?key=microfit_30&amp;channel=products&amp;chanName=family&amp;pageTitle=Introduction">Micro-Fit 3.0™</a> connectors work very well.</li>
<li>PWM control works as expected. It may be necessary to reduce the output current below 1 A, however, because at this level the maximum brightness is too bright to look at, and the minimum may be too bright for the desired application. This will vary with LED color, as for instance the Far Red 740 nm LEDs are noticeable dimmer than their Red 623 nm counterparts.</li>
</ul>

<p></p>

<hr>

<p><div class="toc"><div class="toc">
<ul>
<li><a href="#variable-smps-led-supply">Variable SMPS LED Supply</a><ul>
<li><a href="#concept">Concept</a></li>
<li><a href="#essential-components">Essential Components</a></li>
<li><a href="#schematic-and-board">Schematic and Board</a></li>
</ul>
</li>
</ul>
</div>
</div>
</p>

<ul>
<li><a href="../">Back to Main Page</a></li>
</ul>

<p></p>

     <!-- Markdown content ends here -->
    </div>

    <hr>
    <p>Written with <a href="https://stackedit.io/">StackEdit</a> using <a href="http://kevinburke.bitbucket.org/markdowncss/">markdown.css</a>, <a href="https://code.google.com/p/google-code-prettify/">google-code-prettify</a> and <a href="http://www.mathjax.org/">MathJax</a>.</p>

  </body>
</html>